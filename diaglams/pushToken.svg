<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="302px" preserveAspectRatio="none" style="width:485px;height:302px;" version="1.1" viewBox="0 0 485 302" width="485px" zoomAndPan="magnify"><defs><filter height="300%" id="fevyuu5a4371b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fevyuu5a4371b)" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="162" y="98.7988"/><rect fill="#FFFFFF" filter="url(#fevyuu5a4371b)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="266" y="128.1094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="167" x2="167" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="270.5" x2="270.5" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="364.5" x2="364.5" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="446" x2="446" y1="67.4883" y2="234.041"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="5" y="64.5352">CloudScheduler</text><ellipse cx="62.5" cy="35" fill="#FFA500" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="58.5,23,64.5,18,62.5,23,64.5,28,58.5,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="5" y="246.5762">CloudScheduler</text><ellipse cx="62.5" cy="265.5293" fill="#FFA500" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="58.5,253.5293,64.5,248.5293,62.5,253.5293,64.5,258.5293,58.5,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="130" y="64.5352">CloudRun</text><ellipse cx="167" cy="35" fill="#FFA500" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="163,23,169,18,167,23,169,28,163,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="130" y="246.5762">CloudRun</text><ellipse cx="167" cy="265.5293" fill="#FFA500" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="163,253.5293,169,248.5293,167,253.5293,169,258.5293,163,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="237.5" y="64.5352">Firestore</text><path d="M253,15 C253,5 271,5 271,5 C271,5 289,5 289,15 L289,41 C289,51 271,51 271,51 C271,51 253,51 253,41 L253,15 " fill="#FFA500" filter="url(#fevyuu5a4371b)" style="stroke:#000000;stroke-width:1.5;"/><path d="M253,15 C253,25 271,25 271,25 C271,25 289,25 289,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="237.5" y="246.5762">Firestore</text><path d="M253,259.5293 C253,249.5293 271,249.5293 271,249.5293 C271,249.5293 289,249.5293 289,259.5293 L289,285.5293 C289,295.5293 271,295.5293 271,295.5293 C271,295.5293 253,295.5293 253,285.5293 L253,259.5293 " fill="#FFA500" filter="url(#fevyuu5a4371b)" style="stroke:#000000;stroke-width:1.5;"/><path d="M253,259.5293 C253,269.5293 271,269.5293 271,269.5293 C271,269.5293 289,269.5293 289,259.5293 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="344.5" y="64.5352">Expo</text><ellipse cx="365" cy="35" fill="#ADD8E6" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="361,23,367,18,365,23,367,28,361,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="344.5" y="246.5762">Expo</text><ellipse cx="365" cy="265.5293" fill="#ADD8E6" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="361,253.5293,367,248.5293,365,253.5293,367,258.5293,361,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="408" y="64.5352">NativeApp</text><ellipse cx="446" cy="35" fill="#90EE90" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="442,23,448,18,446,23,448,28,442,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="408" y="246.5762">NativeApp</text><ellipse cx="446" cy="265.5293" fill="#90EE90" filter="url(#fevyuu5a4371b)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="442,253.5293,448,248.5293,446,253.5293,448,258.5293,442,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#fevyuu5a4371b)" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="162" y="98.7988"/><rect fill="#FFFFFF" filter="url(#fevyuu5a4371b)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="266" y="128.1094"/><polygon fill="#A80036" points="150,94.7988,160,98.7988,150,102.7988,154,98.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="62.5" x2="156" y1="98.7988" y2="98.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="69.5" y="94.0566">triger</text><polygon fill="#A80036" points="254,124.1094,264,128.1094,254,132.1094,258,128.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="172" x2="260" y1="128.1094" y2="128.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="179" y="123.3672">GET</text><polygon fill="#A80036" points="183,153.4199,173,157.4199,183,161.4199,179,157.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="270" y1="157.4199" y2="157.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="189" y="152.6777">pushToken</text><polygon fill="#A80036" points="353,182.7305,363,186.7305,353,190.7305,357,186.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="167" x2="359" y1="186.7305" y2="186.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="174" y="181.9883">POST(pushToken,message)</text><polygon fill="#A80036" points="434,212.041,444,216.041,434,220.041,438,216.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="440" y1="216.041" y2="216.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="372" y="211.2988">push通知</text><!--MD5=[1bc668223a6068a2b51d24af8f9aa993]
@startuml
control CloudScheduler #Orange
control CloudRun #Orange
database Firestore #Orange
control Expo #LightBlue
control NativeApp #LightGreen
CloudScheduler -> CloudRun : triger
activate CloudRun
CloudRun -> Firestore : GET
activate Firestore
CloudRun <- Firestore : pushToken
deactivate Firestore
CloudRun -> Expo : POST(pushToken,message)
deactivate CloudRun
Expo -> NativeApp : push通知
@enduml

PlantUML version 1.2020.22(Sun Dec 06 18:36:27 JST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>