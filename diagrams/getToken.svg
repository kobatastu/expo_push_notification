<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="302px" preserveAspectRatio="none" style="width:478px;height:302px;" version="1.1" viewBox="0 0 478 302" width="478px" zoomAndPan="magnify"><defs><filter height="300%" id="f19fpltib29szv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f19fpltib29szv)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228" y="98.7988"/><rect fill="#FFFFFF" filter="url(#f19fpltib29szv)" height="58.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="157.4199"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="43" x2="43" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="232.5" x2="232.5" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="300.5" x2="300.5" y1="67.4883" y2="234.041"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="443" x2="443" y1="67.4883" y2="234.041"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="5" y="64.5352">NativeApp</text><ellipse cx="43" cy="35" fill="#90EE90" filter="url(#f19fpltib29szv)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="39,23,45,18,43,23,45,28,39,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="5" y="246.5762">NativeApp</text><ellipse cx="43" cy="265.5293" fill="#90EE90" filter="url(#f19fpltib29szv)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="39,253.5293,45,248.5293,43,253.5293,45,258.5293,39,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="212.5" y="64.5352">Expo</text><ellipse cx="233" cy="35" fill="#ADD8E6" filter="url(#f19fpltib29szv)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="229,23,235,18,233,23,235,28,229,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="212.5" y="246.5762">Expo</text><ellipse cx="233" cy="265.5293" fill="#ADD8E6" filter="url(#f19fpltib29szv)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="229,253.5293,235,248.5293,233,253.5293,235,258.5293,229,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="263.5" y="64.5352">CloudRun</text><ellipse cx="300.5" cy="35" fill="#FFA500" filter="url(#f19fpltib29szv)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="296.5,23,302.5,18,300.5,23,302.5,28,296.5,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="263.5" y="246.5762">CloudRun</text><ellipse cx="300.5" cy="265.5293" fill="#FFA500" filter="url(#f19fpltib29szv)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="296.5,253.5293,302.5,248.5293,300.5,253.5293,302.5,258.5293,296.5,253.5293" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="410" y="64.5352">Firestore</text><path d="M425.5,15 C425.5,5 443.5,5 443.5,5 C443.5,5 461.5,5 461.5,15 L461.5,41 C461.5,51 443.5,51 443.5,51 C443.5,51 425.5,51 425.5,41 L425.5,15 " fill="#FFA500" filter="url(#f19fpltib29szv)" style="stroke:#000000;stroke-width:1.5;"/><path d="M425.5,15 C425.5,25 443.5,25 443.5,25 C443.5,25 461.5,25 461.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="410" y="246.5762">Firestore</text><path d="M425.5,259.5293 C425.5,249.5293 443.5,249.5293 443.5,249.5293 C443.5,249.5293 461.5,249.5293 461.5,259.5293 L461.5,285.5293 C461.5,295.5293 443.5,295.5293 443.5,295.5293 C443.5,295.5293 425.5,295.5293 425.5,285.5293 L425.5,259.5293 " fill="#FFA500" filter="url(#f19fpltib29szv)" style="stroke:#000000;stroke-width:1.5;"/><path d="M425.5,259.5293 C425.5,269.5293 443.5,269.5293 443.5,269.5293 C443.5,269.5293 461.5,269.5293 461.5,259.5293 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f19fpltib29szv)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="228" y="98.7988"/><rect fill="#FFFFFF" filter="url(#f19fpltib29szv)" height="58.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="157.4199"/><polygon fill="#A80036" points="216,94.7988,226,98.7988,216,102.7988,220,98.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="222" y1="98.7988" y2="98.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="50" y="94.0566">getExpoPushTokenAsync()</text><polygon fill="#A80036" points="54,124.1094,44,128.1094,54,132.1094,50,128.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="232" y1="128.1094" y2="128.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="60" y="123.3672">pushToken</text><polygon fill="#A80036" points="283.5,153.4199,293.5,157.4199,283.5,161.4199,287.5,157.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="289.5" y1="157.4199" y2="157.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="50" y="152.6777">POST (pushToken)</text><polygon fill="#A80036" points="431.5,182.7305,441.5,186.7305,431.5,190.7305,435.5,186.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="437.5" y1="186.7305" y2="186.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="312.5" y="181.9883">POST (pushToken)</text><polygon fill="#A80036" points="54,212.041,44,216.041,54,220.041,50,216.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="299.5" y1="216.041" y2="216.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="60" y="211.2988">success</text><!--MD5=[cecdd2f588afce5544d4cc80c668906b]
@startuml
control NativeApp #LightGreen
control Expo #LightBlue
control CloudRun #Orange
database Firestore #Orange
NativeApp -> Expo : getExpoPushTokenAsync()
activate Expo
NativeApp <- Expo : pushToken
deactivate Expo
NativeApp -> CloudRun : POST (pushToken)
activate CloudRun
CloudRun -> Firestore : POST (pushToken)
NativeApp <- CloudRun : success
deactivate CloudRun
@enduml

PlantUML version 1.2020.22(Sun Dec 06 18:36:27 JST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>